# How to Set Up MFA on Vault using TOTP and the Microsoft Authenticator App
This repo contains examples for how to setup MFA in Vault for both LDAP Authentication and path-based CRUD Operations using TOTP and the Microsoft Authenticator App.

## LDAP AUTH MFA
This can be enforced by creating a Sentinel [Endpoint Governing Policy (EGP)](https://www.vaultproject.io/docs/enterprise/sentinel#endpoint-governing-policies-egps) using [this](ldap_auth_totp_mfa) example code. Once enabled, users authenticating via LDAP will be expected to pass the `-mfa` flag in their authentication requests and must include the `totp` generated by their Microsoft Authenticator App.  For example, an expected call might look like:
```
vault login -mfa=my_totp:123456 -method=ldap username=testuser
```
